/*! UIkit 3.0.0 | http://www.getuikit.com | (c) 2014 - 2016 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("uikit")):"function"==typeof define&&define.amd?define(["uikit"],e):e(t.UIkit)}(this,function(t){"use strict";var e,i=t.util.$,o=t.util.extend,n=t.util.Dimensions,s=t.util.getIndex,h=t.util.Transition;i(document).on({keydown:function(t){if(e)switch(t.keyCode){case 37:e.show("previous");break;case 39:e.show("next")}}}),UIkit.component("lightbox",{name:"lightbox",props:{toggle:String,duration:Number,inverse:Boolean},defaults:{toggle:"a",duration:400,dark:!1,attrItem:"uk-lightbox-item",items:[],index:0},ready:function(){var t=this;this.toggles=i(this.toggle,this.$el),this.toggles.each(function(e,o){o=i(o),t.items.push({source:o.attr("href"),title:o.attr("title"),type:o.attr("type")})}),this.$el.on("click",this.toggle+":not(.uk-disabled)",function(e){e.preventDefault(),t.show(t.toggles.index(e.currentTarget))})},update:{handler:function(){var t=this,e=this.getItem();if(this.modal&&e.content){var o=this.modal.panel,s={width:o.width(),height:o.height()},a={width:window.innerWidth-(o.outerWidth(!0)-s.width),height:window.innerHeight-(o.outerHeight(!0)-s.height)},r=n.fit({width:e.width,height:e.height},a);h.stop(o).stop(this.modal.content),this.modal.content&&this.modal.content.remove(),this.modal.content=i(e.content).css("opacity",0).appendTo(o),o.css(s),h.start(o,r,this.duration).then(function(){h.start(t.modal.content,{opacity:1},400).then(function(){o.find("[uk-transition-hide]").show(),o.find("[uk-transition-show]").hide()})})}},events:["resize","orientationchange"]},events:{showitem:function(t){var e=this.getItem();e.content&&(this.$update(),t.stopImmediatePropagation())}},methods:{show:function(t){var o=this;this.index=s(t,this.items,this.index),this.modal||(this.modal=UIkit.modal.dialog('\n                    <button class="uk-modal-close-outside" uk-transition-hide type="button" uk-close></button>\n                    <span class="uk-position-center" uk-transition-show uk-icon="icon: trash"></span>\n                    ',{center:!0}),this.modal.$el.css("overflow","hidden").addClass("uk-modal-lightbox"),this.modal.panel.css({width:200,height:200}),this.modal.caption=i('<div class="uk-modal-caption" uk-transition-hide></div>').appendTo(this.modal.panel),this.items.length>1&&i('<div class="'+(this.dark?"uk-dark":"uk-light")+'" uk-transition-hide>\n                            <a href="#" class="uk-position-center-left" uk-slidenav="previous" uk-lightbox-item="previous"></a>\n                            <a href="#" class="uk-position-center-right" uk-slidenav="next" uk-lightbox-item="next"></a>\n                        </div>\n                    ').appendTo(this.modal.panel.addClass("uk-slidenav-position")),this.modal.$el.on("hide",this.hide).on("click","["+this.attrItem+"]",function(t){t.preventDefault(),o.show(i(t.currentTarget).attr(o.attrItem))}).on("swipeRight swipeLeft",function(t){t.preventDefault(),window.getSelection().toString()||o.show("swipeLeft"==t.type?"next":"previous")})),e=this,this.modal.panel.find("[uk-transition-hide]").hide(),this.modal.panel.find("[uk-transition-show]").show(),this.modal.content&&this.modal.content.remove(),this.modal.caption.text(this.getItem().title);var n=i.Event("showitem");this.$el.trigger(n),n.isImmediatePropagationStopped()||this.setError(this.getItem())},hide:function(){var t=this;e=e&&e!==this&&e,this.modal.hide().then(function(){t.modal.$destroy(!0),t.modal=null})},getItem:function(){return this.items[this.index]||{source:"",title:"",type:""}},setItem:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200;o(t,{content:e,width:i,height:n}),this.$update()},setError:function(t){this.setItem(t,'<div class="uk-position-cover uk-flex uk-flex-middle uk-flex-center"><strong>Loading resource failed!</strong></div>',400,300)}}}),UIkit.mixin({events:{showitem:function(t){var e=this,i=this.getItem();if("image"===i.type||!i.source||i.source.match(/\.(jp(e)?g|png|gif|svg)$/i)){var o=new Image;o.onerror=function(){return e.setError(i)},o.onload=function(){return e.setItem(i,'<img class="uk-responsive-width" width="'+o.width+'" height="'+o.height+'" src ="'+i.source+'">',o.width,o.height)},o.src=i.source,t.stopImmediatePropagation()}}}},"lightbox"),UIkit.mixin({events:{showitem:function(t){var e=this,o=this.getItem();if("video"===o.type||!o.source||o.source.match(/\.(mp4|webm|ogv)$/i)){var n=i('<video class="uk-responsive-width" controls></video>').on("loadedmetadata",function(){return e.setItem(o,n.attr({width:n[0].videoWidth,height:n[0].videoHeight}),n[0].videoWidth,n[0].videoHeight)}).attr("src",o.source);t.stopImmediatePropagation()}}}},"lightbox"),UIkit.mixin({events:{showitem:function(t){var e=this,i=this.getItem(),o=void 0;if((o=i.source.match(/\/\/.*?youtube\.[a-z]+\/watch\?v=([^&]+)&?(.*)/))||i.source.match(/youtu\.be\/(.*)/)){var n=o[1],s=new Image,h=!1,a=function(t,o){return e.setItem(i,'<iframe src="//www.youtube.com/embed/'+n+'" width="'+t+'" height="'+o+'" style="max-width:100%;box-sizing:border-box;"></iframe>',t,o)};s.onerror=function(){return a(640,320)},s.onload=function(){120===s.width&&90===s.height?h?a(640,320):(h=!0,s.src="//img.youtube.com/vi/"+n+"/0.jpg"):a(s.width,s.height)},s.src="//img.youtube.com/vi/"+n+"/maxresdefault.jpg",t.stopImmediatePropagation()}}}},"lightbox"),UIkit.mixin({events:{showitem:function(t){var e=this,o=this.getItem(),n=void 0;if(n=o.source.match(/(\/\/.*?)vimeo\.[a-z]+\/([0-9]+).*?/)){var s=n[2],h=function(t,i){return e.setItem(o,'<iframe src="//player.vimeo.com/video/'+s+'" width="'+t+'" height="'+i+'" style="max-width:100%;box-sizing:border-box;"></iframe>',t,i)};i.ajax({type:"GET",url:"http://vimeo.com/api/oembed.json?url="+encodeURI(o.source),jsonp:"callback",dataType:"jsonp"}).then(function(t){return h(t.width,t.height)}),t.stopImmediatePropagation()}}}},"lightbox")});